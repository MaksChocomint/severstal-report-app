generator client {
  provider = "prisma-client-js"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Report {
  id                  Int    @id @default(autoincrement())
  ladlePassportNumber String // "№ 29 - 27 Тн"

  // Раздел плавки
  meltNumber         Int // "Плавка № 29"
  meltUnrs           Int // "УНРС: 27"
  meltStartDateTime  DateTime // "начало: 28.05.2025 05:05"
  meltEndDateTime    DateTime // "окончание: 28.05.2025 09:21"
  meltLadleStability Int // "Стойкость ПК: 4" 

  // Раздел торкретирования
  arrivalDate          DateTime // "Прибытие на участок: 28.05.2025 09:21"
  torcretingDate       DateTime
  mixtures             String // "Маг-75" (форматированная строка)
  assemblyHandoverDate DateTime

  // Раздел расположения термоблоков
  thermalBlockDistance   Int // "0" (расстояние от днища)
  thermalBlockProtrusion Int // "0" (длина выступающей части)
  thermalBlockCondition  String?

  // Раздел сборки
  doserCupType              String
  doserCupInstaller         String
  stopperMonoblockType      String
  stopperMonoblockInstaller String
  valve1                    String // "3 СТОП.МЕХ 1: 17"
  valve2                    String // "2 СТОП.МЕХ 2: 6"
  turbostop                 String? // "Турбостоп (АО «БКО»)"

  // Раздел разливки (единичный объект)
  pouringHandoverDateTime DateTime
  heatingStartDateTime    DateTime
  heatingDuration         String // "03:34:49"
  operatorName            String // "Ефремов М.Б."

  // Детали первой плавки (из "Начало" на картинке)
  pour1MeltNumber     Int
  pour1Unrs           Int
  pour1StartDateTime  DateTime
  pour1EndDateTime    DateTime
  pour1SeriesPosition String
  pour1LadleStability Int

  // Детали второй плавки (из "Окончание" на картинке)
  pour2MeltNumber     Int
  pour2StartDateTime  DateTime
  pour2EndDateTime    DateTime
  pour2LadleStability Int // Only the number, e.g., 10

  // Замечания
  torcretingRemarks String?
  assemblyRemarks   String?
  heatingRemarks    String?
  pouringRemarks    String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// Removed the Melt model as per requirement
